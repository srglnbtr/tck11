<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>TickClone — Login</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="manifest" href="manifest.json">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="TickClone">
  <link rel="apple-touch-icon" href="icon-192.png">

  <style>
    :root{
      --bg1: #0ea5e9;
      --bg2: #7c3aed;
      --accent: #2563eb;
      --card-w: 860px;
      --card-h: 520px;
      --soft-shadow: 0 12px 40px rgba(10,20,40,0.25);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      font-family:"Inter",system-ui,Arial;
      background:linear-gradient(135deg,var(--bg1),var(--bg2));
      -webkit-font-smoothing:antialiased;
      overflow:hidden;
    }
    .scene{perspective:1200px;width:min(var(--card-w),95%);max-width:var(--card-w);height:min(var(--card-h),92vh);display:flex;align-items:center;justify-content:center}
    .orb{position:absolute;border-radius:50%;filter:blur(90px) saturate(150%);opacity:.5}
    .orb.a{width:400px;height:400px;top:-120px;left:-80px;background:rgba(99,102,241,.35)}
    .orb.b{width:360px;height:360px;bottom:-140px;right:-60px;background:rgba(14,165,233,.3)}
    .card-3d{width:100%;height:100%;transform-style:preserve-3d;transition:transform .3s;display:flex;align-items:center;justify-content:center}
    .card-surface{width:100%;height:100%;border-radius:20px;background:rgba(255,255,255,.05);box-shadow:var(--soft-shadow);overflow:hidden;display:flex}
    .side-left{flex:1;padding:36px 28px;color:#fff;display:flex;flex-direction:column;justify-content:center;backdrop-filter:blur(4px)}
    .side-left h1{margin:0 0 10px;font-size:30px}
    .side-left p{font-size:14px;margin:0 0 16px}
    .side-left .btn-ghost{padding:10px 18px;border-radius:12px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.2);color:#fff;font-weight:600;cursor:pointer;transition:.2s}
    .side-left .btn-ghost:hover{background:rgba(255,255,255,.15)}
    .side-right{flex:1;padding:32px 40px;display:flex;align-items:center;justify-content:center}
    .form{width:100%;max-width:320px;background:rgba(255,255,255,.05);padding:22px;border-radius:14px;backdrop-filter:blur(8px)}
    .form h2{margin:0 0 8px;color:#fff}
    .input{width:100%;padding:12px 14px;margin-bottom:10px;border-radius:10px;border:1px solid rgba(255,255,255,.2);background:rgba(255,255,255,.08);color:#fff;font-size:14px}
    .action{width:100%;padding:12px;margin-top:6px;border:none;border-radius:10px;background:linear-gradient(90deg,#60a5fa,#818cf8);color:#fff;font-weight:700;cursor:pointer;transition:.2s}
    .action:hover{filter:brightness(1.1)}
    .small-link{display:block;margin-top:10px;font-size:12px;color:#ddd;text-align:right;text-decoration:none}
    .msg{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.8);color:#fff;padding:10px 16px;border-radius:8px;font-size:13px;opacity:0;transition:.3s;pointer-events:none}
    .msg.show{opacity:1}
    @media(max-width:768px){.side-left{display:none}.side-right{flex:1}}
  </style>
</head>
<body>
  <div class="orb a"></div>
  <div class="orb b"></div>
  <div class="scene">
    <div class="card-3d" id="card">
      <div class="card-surface">
        <div class="side-left">
          <h1>Welcome to TickClone</h1>
          <p>Organize your schedule and sync across devices.</p>
          <button class="btn-ghost" id="openSignup">Create account</button>
          <button class="btn-ghost" id="openLogin">I already have</button>
        </div>
        <div class="side-right">
          <div class="form" id="formWrap">
            <div id="loginBox">
              <h2>Sign In</h2>
              <input class="input" id="li-user" placeholder="Username">
              <input type="password" class="input" id="li-pass" placeholder="Password">
              <button class="action" id="loginBtn">Login</button>
              <a href="#" class="small-link" id="gotoSignup">Create account</a>
            </div>
            <div id="signupBox" style="display:none">
              <h2>Create</h2>
              <input class="input" id="su-user" placeholder="Username">
              <input type="password" class="input" id="su-pass" placeholder="Password">
              <button class="action" id="signupBtn">Sign Up</button>
              <a href="#" class="small-link" id="gotoLogin">Have an account?</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="msg" class="msg"></div>

<script>
/* ---- tilt ---- */
const card=document.getElementById("card"),scene=document.querySelector(".scene");
let rect=card.getBoundingClientRect();
window.addEventListener("resize",()=>rect=card.getBoundingClientRect());
scene.addEventListener("mousemove",e=>{
  const x=(e.clientX-rect.left)/rect.width-.5,y=(e.clientY-rect.top)/rect.height-.5;
  card.style.transform=`rotateY(${x*15}deg) rotateX(${-y*10}deg)`;
});
scene.addEventListener("mouseleave",()=>card.style.transform="rotateY(0) rotateX(0)");

/* ---- auth ---- */
const loginBox=document.getElementById("loginBox"),
      signupBox=document.getElementById("signupBox"),
      openSignup=document.getElementById("openSignup"),
      openLogin=document.getElementById("openLogin"),
      gotoSignup=document.getElementById("gotoSignup"),
      gotoLogin=document.getElementById("gotoLogin"),
      msg=document.getElementById("msg");

function show(box){loginBox.style.display=box==="login"?"block":"none";signupBox.style.display=box==="signup"?"block":"none";}
function showMessage(text){msg.textContent=text;msg.classList.add("show");setTimeout(()=>msg.classList.remove("show"),2000);}

openSignup.onclick=()=>show("signup");
openLogin.onclick=()=>show("login");
gotoSignup.onclick=e=>{e.preventDefault();show("signup")};
gotoLogin.onclick=e=>{e.preventDefault();show("login")};

document.getElementById("signupBtn").onclick=()=>{
  const u=document.getElementById("su-user").value.trim(),
        p=document.getElementById("su-pass").value.trim();
  if(!u||!p) return showMessage("Fill all fields");
  if(localStorage.getItem("user_"+u)) return showMessage("User exists");
  localStorage.setItem("user_"+u,p);
  showMessage("Account created — login now");
  show("login");
};

document.getElementById("loginBtn").onclick=()=>{
  const u=document.getElementById("li-user").value.trim(),
        p=document.getElementById("li-pass").value.trim();
  if(!u||!p) return showMessage("Fill all fields");
  const stored=localStorage.getItem("user_"+u);
  if(stored===p){
    localStorage.setItem("loggedIn","true");
    location.href="calendar.html";
  } else showMessage("Invalid credentials");
};
</script>

<script>
if("serviceWorker" in navigator){navigator.serviceWorker.register("service-worker.js");}
</script>
</body>
</html>
